{% extends 'main.html' %} {% block content %}

<div class="container mt-4">
  <div class="card shadow-lg p-4">
    <h3 class="mb-3">Mother Profile</h3>
    <hr />

    <!-- Mother Info -->
    <div class="row mb-3">
      <div class="col-md-6 mb-3">
        <strong>Name:</strong>
        <p>{{ mother.name }}</p>
      </div>

      <div class="col-md-6 mb-3">
        <strong>Phone:</strong>
        <p>{{ mother.phone }}</p>
      </div>

      <div class="col-md-6 mb-3">
        <strong>Language:</strong>
        <p>{{ mother.language }}</p>
      </div>

      <div class="col-md-6 mb-3">
        <strong>Hospital:</strong>
        <p>{{ mother.hospital }}</p>
      </div>

      <div class="col-md-6 mb-3">
        <strong>Consent Given:</strong>
        <p>
          {% if mother.consent %}
          <span class="text-success">Yes</span>
          {% else %}
          <span class="text-danger">No</span>
          {% endif %}
        </p>
      </div>

      <div class="col-md-6 mb-3">
        <strong>Registered On:</strong>
        <p>{{ mother.created_at|date:"M d, Y H:i" }}</p>
      </div>
    </div>

    <hr />

    <!-- Pregnancy Section -->
    <h4 class="mt-4">Pregnancy Details</h4>

    {% if mother.pregnancies.all %} {% for p in mother.pregnancies.all %}
    <div class="alert alert-secondary mt-3">
      <strong>Due Date:</strong> {{ p.due_date|date:"M d, Y" }} <br />
      <strong>Next Visit:</strong>
      {% if p.next_visit %} {{ p.next_visit|date:"M d, Y" }} {% else %}
      <span class="text-muted">Not set</span>
      {% endif %}
      <br />
      <small class="text-muted"
        >Pregnancy record created: {{ p.created_at|date:"M d, Y H:i" }}</small
      >
      <br />
      <a
        href="{% url 'update_next_visit' p.id %}"
        class="btn btn-sm btn-primary mt-2"
      >
        Update Next Visit
      </a>
    </div>
    {% endfor %} {% else %}
    <p class="text-muted mt-3">No pregnancy information available.</p>
    {% endif %}

    <hr />

    <!-- Vaccination Section -->
    <h4>Upcoming Vaccination</h4>

    {% if upcoming_vaccinations %} {% for vac in upcoming_vaccinations %}
    <div class="alert alert-info mt-3">
      <strong>{{ vac.vaccine_name }}</strong><br />
      Scheduled on: {{ vac.scheduled_date|date:"M d, Y" }}
    </div>
    {% endfor %} {% else %}
    <p class="text-muted mt-3">No upcoming vaccinations.</p>
    {% endif %}

    <!-- Buttons -->
    <div class="mt-4">
      <a href="{% url 'register' %}" class="btn btn-primary">
        Register Another Mother
      </a>

      <a href="{% url 'staff_dashboard' %}" class="btn btn-secondary">
        View All
      </a>
    </div>
  </div>
</div>

{% endblock %}
